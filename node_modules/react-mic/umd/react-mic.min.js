/*!
 * react-mic v3.1.0 - https://hackingbeauty.github.io/react-mic
 * MIT Licensed
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-mic"]=t(require("react")):e["react-mic"]=t(e.React)}(this,function(e){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,r){"use strict";var o=new(window.AudioContext||window.webkitAudioContext),n=o.createAnalyser(),i={getAudioContext:function(){return o},getAnalyser:function(){return n}};t.a=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);r.d(t,"ReactMic",function(){return o.a})},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(4),s=r.n(a),u=r(3),c=r(0);r.d(t,"a",function(){return p});var l="640",f="100",p=function(e){function t(r){o(this,t);var i=n(this,e.call(this,r));return i.visualize=function(e,t,r){function o(){requestAnimationFrame(o);e.getByteTimeDomainData(c),r.fillStyle=a,r.fillRect(0,0,l,f),r.lineWidth=3,r.strokeStyle=s,r.beginPath();for(var n=1*l/u,i=0,p=0;p<u;p++){var d=c[p]/128,v=d*f/2;0===p?r.moveTo(i,v):r.lineTo(i,v),i+=n}r.lineTo(t.width,t.height/2),r.stroke()}var n=i.props,a=n.backgroundColor,s=n.strokeColor,u=e.fftSize,c=new Uint8Array(u);r.clearRect(0,0,l,f),o()},i.state={audioCtx:null,analyser:null,microphoneRecorder:null,visualizerCanvas:null,visualizerCanvasCtx:null},i}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props.onStop,t=c.a.getAnalyser(),r=this.refs.visualizer,o=this.refs.visualizer.getContext("2d");t.minDecibels=-90,t.maxDecibels=-10,t.smoothingTimeConstant=.85,t.fftSize=2048,this.setState({analyser:t,microphoneRecorder:new u.a(e),visualizerCanvas:r,visualizerCanvasCtx:o}),this.visualize(t,r,o)},t.prototype.render=function(){var e=this.props,t=e.record,r=e.onStop,o=this.state,n=(o.analyser,o.audioCtx,o.microphoneRecorder);return t?n&&n.startRecording():n&&n.stopRecording(r),s.a.createElement("canvas",{ref:"visualizer",className:this.props.className})},t}(a.Component);p.defaultProps={backgroundColor:"#4bb8d1",strokeColor:"#000000",className:"visualizer",record:!1}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=r(0);r.d(t,"a",function(){return d});var i=void 0,a=void 0,s=void 0,u=[],c=void 0,l=void 0,f=void 0,p={audio:!0,video:!1};navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var d=function(){function e(t){var r=this;o(this,e),this.startRecording=function(){if(a=n.a.getAudioContext(),i=n.a.getAnalyser(),c=Date.now(),"suspended"===a.state&&a.resume(),s&&"paused"===s.state)return void s.resume();if(s&&"inactive"===s.state){s.start(10);a.createMediaStreamSource(l).connect(i)}};return navigator.mediaDevices?(console.log("getUserMedia supported."),navigator.mediaDevices.getUserMedia(p).then(function(e){l=e,s=new MediaRecorder(e),s.onstop=r.onStop,f=t,s.ondataavailable=function(e){u.push(e.data)}})):alert("Unfortunately, your browser sucks.  Apple refuses to support the latest Web features in Safari.  Please tell them to upgrade the Safari Web browser."),this}return e.prototype.stopRecording=function(){s&&"inactive"!==s.state&&(s.stop(),a.suspend())},e.prototype.onStop=function(e){var t=new Blob(u,{type:"audio/webm"});u=[];var r={blob:t,startTime:c,stopTime:Date.now(),blobURL:window.URL.createObjectURL(t)};f(r)},e}()},function(t,r){t.exports=e},function(e,t,r){e.exports=r(1)}])});
//# sourceMappingURL=react-mic.min.js.map